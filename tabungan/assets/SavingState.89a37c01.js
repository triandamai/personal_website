import{f as i,i as n,u as a,l as t}from"./index.32dd00ad.js";import{a as s,u as e}from"./UserState.cd87c685.js";const o=i({isLoading:!1,isResultDialog:!1,dialogType:"loading",listdeposit:[],formtabungan:{nominal:"",description:"",receipt:"",receiptname:"",tabungantype:"",filename:"Pilih"}});function c(){const i=a(),c=t();function u(){o.isLoading=!0,o.isResultDialog=!1}function g(){o.isLoading=!1}function d(){o.isLoading=!1,o.isResultDialog=!0,o.dialogType="success"}function r(){o.isLoading=!1,o.isResultDialog=!0,o.dialogType="failed"}return e(),{getAllDeposit:async function(){const{success:i,data:n}=await s.getMyDeposit(`/deposit/${s.getSaving()}`);i&&n&&(o.listdeposit=n)},sendDeposit:async function(){if(!o.formtabungan.nominal&&!o.formtabungan.description&&!o.formtabungan.receipt)return;u(),await n(),g();const{success:i,data:a}=await s.createDeposit("",{});i?(d(),o.formtabungan.description="",o.formtabungan.filename="",o.formtabungan.nominal="",o.formtabungan.receiptname="Pilih file",o.formtabungan.receipt=null):(o.dialogType="failed",r())},acceptDeposit:async function(i,n){u();const{success:a,data:t}=await s.confirmationDeposit("",{});g(),a?d():r()},sendSpending:function(){},acceptSpending:function(){},onImagePicked:function(i){o.formtabungan.receipt=i.target.files[0],o.formtabungan.filename=i.target.files[0].name},showFailed:r,showSuccess:d,showLoading:u,dismiss:function(){o.isResultDialog=!1},isDialogSuccess:function(){return"success"==o.dialogType},isLoading:function(){return o.isLoading},isDialogResult:function(){return o.isResultDialog},gotoHome:function(){i.push({path:"/main/dashboard"})},getDepositById:async function(){return new Promise((async i=>{u();const{success:n,data:a}=await s.getDepositById(`/deposit/${c.params.id}`);g()}))},depositState:o}}export{c as u};
